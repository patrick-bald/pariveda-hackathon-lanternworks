service: LanternNetworkBackend
package:
  individually: true
provider:
  name: aws
  runtime: python3.8
  region: us-east-2
  stage: '${opt:stage, "dev"}'
plugins:
  - serverless-python-requirements
custom:
  pythonRequirements:
    dockerizePip: true
    layer:
      name: lantern-network-backend-layer
      description: Lantern Network Backend layer
      compatibleRuntimes:
        - python3.8
functions:
  app:
    package:
      include:
        - main.py
      exclude:
        - requirements.txt
        - package.json
        - package-lock.json
        - .serverless/**
        - .virtualenv/**
        - node_modules/**
    handler: main.handler
    environment:
      STAGE: '${self:provider.stage}'
    layers:
      - Ref: PythonRequirementsLambdaLayer
    events:
      - http:
          method: any
          path: '/{proxy+}'
